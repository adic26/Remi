<?xml version="1.0" encoding="utf-8" ?>
<Instrument xmlns="TsdLib.Instrument.xsd" Name="BlackBerryRadio" ConnectionType="Telnet" Interfaces="IBlackBerryRadio" CommandDelay="200">
  <IdQuery Response="BlackBerry Device"/>
  <ModelNumber Message="cat /pps/services/hw_info/inventory" RegEx="(?&lt;=Board_Type::).*(?=\r\nBoot_Devices)"/>
  <SerialNumber Message="cat /pps/system/nvram/deviceinfo" RegEx="(?&lt;=BSN::).*(?=\r\nBTMAC)"/>
  <FirmwareVersion Message="cat /pps/services/deviceproperties" RegEx="(?&lt;=scmbundle::).*(?=\r\nscmbundle0)"/>
  <Command Name="Reboot" Message="echo &apos;msg::shutdown\ndat::{&quot;shutdownType&quot;:0,&quot;reason&quot;:&quot;APPS requested&quot;}&apos; &gt; /pps/services/power/shutdown/control"/>
  <Command Name="EnableRadio" Message="echo &apos;msg::power\nid::yyy\ndat:json:{&quot;state&quot;:&quot;ON&quot;}&apos; &gt; /pps/services/radioctrl/modem0/control"/>
  <Command Name="DisableRadio" Message="echo &apos;msg::power\nid::yyy\ndat:json:{&quot;state&quot;:&quot;OFF&quot;}&apos; &gt; /pps/services/radioctrl/modem0/control"/>
  <Command Name="PlacePhoneCall" Message="echo &apos;msg::start_call\nid::yyy\ndat:json:{&quot;phone_number&quot;:&quot;{0}&quot;}&apos; &gt; /pps/services/phone/private/control">
    <Parameter Type="Int32" Name="phoneNumber"/>
  </Command>
  <Query Name="IsRadioEnabled" ReturnType="Boolean" Message="grep -q power_status::ON /pps/services/radioctrl/modem0/status_public &amp;&amp; echo true || echo false" RegEx="(?&lt;=\r\0\r\n).*(?=\r\n#)"/>
</Instrument>